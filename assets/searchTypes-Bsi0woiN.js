import{_ as $,r as d,y as k,H as M,O as N,o as a,c as t,e as l,w as p,D as v,P as O,Q as R,b as r,F as S,C as V,R as _,h as U,z as A,S as H,A as P,T as x,U as Q,V as W,B as F,W as X,X as Y,v as G,x as J,Y as K}from"./index-DP-L49EL.js";/* empty css                 */const q=m=>(G("data-v-091c2f71"),m=m(),J(),m),Z={class:"suffix-container"},ee={class:"dropdown"},ne={key:0,class:"favorites-section"},se=q(()=>r("div",{class:"section-title"},"收藏版型",-1)),ie=["onClick"],ae={key:1,class:"others-section"},te=q(()=>r("div",{class:"section-title"},"全部版型",-1)),le=["onClick"],oe={key:2,class:"no-results"},ce={__name:"searchTypes",setup(m){const o=d(""),i=d(!1),C=d(null),y=d(null),B=d([{id:1,name:"狼美人骑士",pinyin:"lmrqs"},{id:2,name:"觉醒之夜",pinyin:"jxzy"},{id:3,name:"觉醒孤独少女",pinyin:"jxgdsn"},{id:4,name:"觉醒狼王",pinyin:"jxlw"},{id:5,name:"迷雾鸦影",pinyin:"mwyy"},{id:6,name:"咒狐乌鸦",pinyin:"zhwy"},{id:7,name:"孤独少女",pinyin:"gdsn"},{id:8,name:"永序之轮",pinyin:"yxzl"},{id:9,name:"狼王守卫",pinyin:"lwsw"},{id:10,name:"寻香识命",pinyin:"xxsm"},{id:11,name:"猎日逐光",pinyin:"lrzg"},{id:12,name:"时波之乱",pinyin:"sbzl"},{id:13,name:"纯白夜影",pinyin:"cbyy"},{id:14,name:"动物梦境",pinyin:"dwmj"},{id:15,name:"白狼王守卫",pinyin:"blwsw"},{id:16,name:"狼王摄梦人",pinyin:"lwsmr"},{id:17,name:"狼王魔术师",pinyin:"lwmss"},{id:18,name:"恶夜骑士",pinyin:"eyqs"},{id:19,name:"白狼王骑士",pinyin:"blwqs"},{id:20,name:"石像鬼守墓人",pinyin:"sxgsmr"},{id:21,name:"赤月猎魔人",pinyin:"cylmr"},{id:22,name:"噩梦之影",pinyin:"emzy"},{id:23,name:"觉醒女巫",pinyin:"jxnw"},{id:24,name:"标准场",pinyin:"bzc"},{id:25,name:"奇迹商人",pinyin:"qjsr"},{id:26,name:"镜隐迷踪",pinyin:"jymz"},{id:27,name:"丘比特场",pinyin:"qbtc"}]),u=d([]),I=e=>{const n=u.value.findIndex(c=>c.id===e.id);n>-1?u.value.splice(n,1):u.value.push(e)},E=()=>{o.value&&(i.value=!0)},L=()=>{i.value=!0},g=()=>{o.value="",C.value=null,i.value=!1},D=()=>{i.value=!i.value},z=e=>{C.value=e,o.value=e.name,i.value=!1},b=k(()=>{const e=o.value.toLowerCase();return B.value.filter(n=>n.name.toLowerCase().includes(e)||n.pinyin.includes(e))}),f=k(()=>b.value.filter(e=>u.value.some(n=>n.id===e.id))),h=k(()=>b.value.filter(e=>!u.value.some(n=>n.id===e.id))),j=e=>{y.value&&!y.value.contains(e.target)&&(i.value=!1)};return M(()=>{document.addEventListener("click",j)}),N(()=>{document.removeEventListener("click",j)}),(e,n)=>{const c=K,T=U;return a(),t("div",{class:"search-container",ref_key:"containerRef",ref:y},[l(T,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=s=>o.value=s),placeholder:"搜索版型...",onInput:E,onFocus:L,class:"custom-input","prefix-icon":v(W),onClear:g},{suffix:p(()=>[r("div",Z,[o.value?(a(),A(c,{key:0,class:"clear-icon el-input__clear",onClick:g},{default:p(()=>[l(v(H))]),_:1})):_("",!0),l(c,{class:P(["dropdown-icon",{"is-reverse":i.value}]),onMousedown:x(D,["prevent"])},{default:p(()=>[l(v(Q))]),_:1},8,["class"])])]),_:1},8,["modelValue","prefix-icon"]),O(r("div",ee,[f.value.length>0?(a(),t("div",ne,[se,(a(!0),t(S,null,V(f.value,s=>(a(),t("div",{key:s.id,class:"dropdown-item favorite",onClick:w=>z(s)},[r("span",null,F(s.name),1),l(c,{class:"favorite-icon",onClick:x(w=>I(s),["stop"])},{default:p(()=>[l(v(X))]),_:2},1032,["onClick"])],8,ie))),128))])):_("",!0),h.value.length>0?(a(),t("div",ae,[te,(a(!0),t(S,null,V(h.value,s=>(a(),t("div",{key:s.id,class:"dropdown-item",onClick:w=>z(s)},[r("span",null,F(s.name),1),l(c,{class:"favorite-icon",onClick:x(w=>I(s),["stop"])},{default:p(()=>[l(v(Y))]),_:2},1032,["onClick"])],8,le))),128))])):_("",!0),f.value.length===0&&h.value.length===0?(a(),t("div",oe," 没有匹配版型 ")):_("",!0)],512),[[R,i.value]])],512)}}},ue=$(ce,[["__scopeId","data-v-091c2f71"]]);export{ue as default};
