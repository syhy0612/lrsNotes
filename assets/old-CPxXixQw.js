import{_ as Q,G as Z,a7 as $,a8 as ee,W as te,O as oe,a9 as ne,r as d,I,a as ae,v as le,x as se,aa as k,o as w,c as B,b as o,e as n,w as s,K as R,f as g,t as ie,h as re,ab as de,D as ce,R as ue,z as N,F as ge,L as me,y as H,ac as pe,a2 as _e,U as he,V as fe,H as ve,m as be}from"./index-Bwl5y8a0.js";/* empty css                   *//* empty css               *//* empty css                 */const ke={name:"WerewolfNotes",components:{Setting:Z,VideoPlay:$,VideoPause:ee,RefreshRight:te,Delete:oe,Download:ne},setup(){const i=d(!1),l=d(null),h=d(null),e=20*60*1e3,P="有效局",u=d(e),O=I(()=>D(u.value)),m=I(()=>u.value<=0),c=I(()=>i.value||u.value===e),x=d(""),V=d(!1),C=d(!1),f=ae([{number:"01",role:"狼",hexagonClasses:["hexagon-red","hexagon-one"],handOn:!0,input:""},{number:"02",role:"X",hexagonClasses:["hexagon-green","hexagon-one"],handOn:!0,input:""},{number:"03",role:"",hexagonClasses:["hexagon"],handOn:!0,input:""},{number:"04",role:"",hexagonClasses:["hexagon"],handOn:!0,input:""},{number:"05",role:"丘",hexagonClasses:["hexagon-gold","hexagon-one"],handOn:!0,input:""},{number:"06",role:"幸",hexagonClasses:["hexagon-gold","hexagon-one"],handOn:!0,input:""},{number:"07",role:"子狐",hexagonClasses:["hexagon-blue","hexagon-two"],handOn:!0,input:""},{number:"08",role:"",hexagonClasses:["hexagon"],handOn:!0,input:""},{number:"09",role:"",hexagonClasses:["hexagon"],handOn:!0,input:""},{number:"10",role:"警1",hexagonClasses:["hexagon-green","hexagon-two"],handOn:!0,input:""},{number:"11",role:"",hexagonClasses:["hexagon"],handOn:!0,input:""},{number:"12",role:"",hexagonClasses:["hexagon"],handOn:!0,input:""}]),T=d(!1),v=d(!1),p=d(""),y=d(!1);function D(t){const r=Math.round(t/1e3),_=Math.floor(r/60),S=r%60;return t<=0?P:`${_.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`}function E(){const t=new Date().getTime(),r=l.value-t;u.value=r>0?r:0,r<=0&&i.value&&(clearInterval(h.value),i.value=!1)}function a(){!i.value&&u.value>0?(i.value=!0,l.value=new Date().getTime()+u.value,h.value=setInterval(E,100)):i.value&&(clearInterval(h.value),i.value=!1)}function b(){!i.value&&u.value!==e&&(clearInterval(h.value),i.value=!1,l.value=null,u.value=e)}function M(){confirm("确定重置吗？")&&(x.value="",f.forEach(t=>{t.input="",t.handOn=!0}))}function K(){p.value=F(),T.value=!0}function F(){let r=`${W(new Date)}
***************************************
${x.value}
***************************************
发言信息：
`;return f.forEach((_,S)=>{const L=_.input.replace(/\n/g,`
	`);r+=`[${_.number}] 	${L}
`,S===5&&(r+=`***************************************
`)}),r}function W(t){const r=t.getFullYear(),_=(t.getMonth()+1).toString().padStart(2,"0"),S=t.getDate().toString().padStart(2,"0"),L=t.getHours().toString().padStart(2,"0"),q=t.getMinutes().toString().padStart(2,"0"),J=t.getSeconds().toString().padStart(2,"0");return`${r}年${_}月${S}日 ${L}:${q}:${J}`}function z(){navigator.clipboard.writeText(p.value).then(()=>{y.value=!0,setTimeout(()=>{y.value=!1},2e3)}).catch(t=>{console.error("无法复制内容: ",t)})}function A(t){t.preventDefault();const r=t.target.selectionStart,_=t.target.selectionEnd;p.value=p.value.substring(0,r)+"	"+p.value.substring(_),t.target.selectionStart=t.target.selectionEnd=r+1}function G(){V.value=!V.value}function X(){C.value=!C.value}function Y(t){f[t].handOn=!f[t].handOn}function j(){v.value=!0}return le(()=>{}),se(()=>{h.value&&clearInterval(h.value)}),{timerDisplay:O,countdownActive:i,startStopDisabled:m,resetDisabled:c,remarks:x,remarkLocked:V,talkLocked:C,roles:f,exportModalVisible:T,explainModalVisible:v,exportText:p,copySuccessVisible:y,startOrPauseTimer:a,resetTimer:b,resetNotes:M,exportNotes:K,copyToClipboard:z,handleTab:A,toggleRemarkLock:G,toggleTalkLock:X,toggleHand:Y,showExplainModal:j}}},U=i=>(he("data-v-9f52c98c"),i=i(),fe(),i),xe={class:"container"},Ve={id:"top"},Ce=U(()=>o("b",{id:"title"},"在 线 笔 记",-1)),ye={id:"bottom"},Se={class:"right"},we={class:"header"},Te={class:"timer-container"},De={class:"timer"},Me={id:"timer"},Oe=U(()=>o("br",{class:"responsive-break"},null,-1)),Ee={class:"note"},Le=["src"],Ie={class:"note"},Re=["src"],Ne={id:"roles"},Ue=["src","onClick"],Pe={class:"dialog-footer"},Be=U(()=>o("p",null,[g(" 源码："),o("a",{href:"https://github.com/syhy0612/lrsNotes",target:"_blank",style:{color:"blue"}},"点击跳转"),o("br"),o("br"),g(" 6月24日重新拾起项目。 ")],-1)),He={class:"dialog-footer"};function Ke(i,l,h,e,P,u){const O=k("Setting"),m=ve,c=ie,x=k("VideoPlay"),V=k("VideoPause"),C=k("RefreshRight"),f=k("Delete"),T=k("Download"),v=re,p=be,y=de,D=ce,E=ue;return w(),B("div",xe,[o("div",Ve,[Ce,n(c,{class:"settings-link",onClick:e.showExplainModal,text:""},{default:s(()=>[n(m,null,{default:s(()=>[n(O)]),_:1})]),_:1},8,["onClick"])]),o("div",ye,[o("div",Se,[o("div",we,[o("div",Te,[o("div",De,[o("span",Me,R(e.timerDisplay),1),n(c,{class:"timer-link",onClick:e.startOrPauseTimer,disabled:e.startStopDisabled},{default:s(()=>[e.countdownActive?(w(),N(m,{key:1},{default:s(()=>[n(V)]),_:1})):(w(),N(m,{key:0},{default:s(()=>[n(x)]),_:1}))]),_:1},8,["onClick","disabled"]),n(c,{class:"timer-link",onClick:e.resetTimer,disabled:e.resetDisabled},{default:s(()=>[n(m,null,{default:s(()=>[n(C)]),_:1})]),_:1},8,["onClick","disabled"])])]),Oe,n(c,{onClick:e.resetNotes,class:"button reset-button",title:"重置"},{default:s(()=>[n(m,null,{default:s(()=>[n(f)]),_:1})]),_:1},8,["onClick"]),n(c,{onClick:e.exportNotes,class:"button export-button",title:"导出"},{default:s(()=>[n(m,null,{default:s(()=>[n(T)]),_:1})]),_:1},8,["onClick"])]),o("div",Ee,[o("h2",null,[g("备注信息 "),o("img",{src:e.remarkLocked?"img/locked.png":"img/unlocked.png",alt:"",class:"locked",onClick:l[0]||(l[0]=(...a)=>e.toggleRemarkLock&&e.toggleRemarkLock(...a))},null,8,Le)]),n(v,{modelValue:e.remarks,"onUpdate:modelValue":l[1]||(l[1]=a=>e.remarks=a),type:"textarea",rows:3,placeholder:"请输入",disabled:e.remarkLocked},null,8,["modelValue","disabled"])]),o("div",Ie,[o("h2",null,[g("发言信息 "),o("img",{src:e.talkLocked?"img/locked.png":"img/unlocked.png",alt:"",class:"locked",onClick:l[2]||(l[2]=(...a)=>e.toggleTalkLock&&e.toggleTalkLock(...a))},null,8,Re)]),o("div",Ne,[n(y,{gutter:20},{default:s(()=>[(w(!0),B(ge,null,me(e.roles,(a,b)=>(w(),N(p,{span:12,key:b},{default:s(()=>[o("div",{class:H(["role-entry",{odd:b%2===0,even:b%2!==0}])},[o("label",null,[o("img",{src:a.handOn?"svg/hand-up.svg":"svg/hand-off.svg",class:"toggle-icon",onClick:M=>e.toggleHand(b)},null,8,Ue),g(" "+R(a.number)+" ",1),o("div",{class:H(["hexagon",...a.hexagonClasses])},R(a.role),3)]),n(v,{modelValue:a.input,"onUpdate:modelValue":M=>a.input=M,type:"textarea",rows:3,disabled:e.talkLocked},null,8,["modelValue","onUpdate:modelValue","disabled"])],2)]),_:2},1024))),128))]),_:1})])])])]),n(D,{modelValue:e.exportModalVisible,"onUpdate:modelValue":l[5]||(l[5]=a=>e.exportModalVisible=a),title:"笔记预览",width:"50%",center:""},{footer:s(()=>[o("span",Pe,[n(c,{onClick:e.copyToClipboard},{default:s(()=>[g("复制")]),_:1},8,["onClick"]),n(c,{onClick:l[4]||(l[4]=a=>e.exportModalVisible=!1)},{default:s(()=>[g("取消")]),_:1})])]),default:s(()=>[n(v,{modelValue:e.exportText,"onUpdate:modelValue":l[3]||(l[3]=a=>e.exportText=a),type:"textarea",rows:10,placeholder:"预览内容",onKeydown:pe(_e(e.handleTab,["prevent"]),["tab"])},null,8,["modelValue","onKeydown"])]),_:1},8,["modelValue"]),n(D,{modelValue:e.explainModalVisible,"onUpdate:modelValue":l[7]||(l[7]=a=>e.explainModalVisible=a),title:"设置",width:"30%",center:""},{footer:s(()=>[o("span",He,[n(c,{onClick:l[6]||(l[6]=a=>e.explainModalVisible=!1)},{default:s(()=>[g("好的")]),_:1})])]),default:s(()=>[Be]),_:1},8,["modelValue"]),n(E,{modelValue:e.copySuccessVisible,"onUpdate:modelValue":l[8]||(l[8]=a=>e.copySuccessVisible=a),type:"success",duration:2e3,center:""},{default:s(()=>[g("复制成功~ ")]),_:1},8,["modelValue"])])}const Ge=Q(ke,[["render",Ke],["__scopeId","data-v-9f52c98c"]]);export{Ge as default};
